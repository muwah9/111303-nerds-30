const OpenPopup=document.querySelector(".button--contacts"),Popup=document.querySelector(".popup"),PopupClose=document.querySelector(".popup__close"),FormName=document.querySelector(".feedback__input"),PopupForm=document.querySelector(".feedback"),FormEmail=document.querySelector(".feedback__input");let isStorageSupport=!0,storage="";try{storage=localStorage.getItem("FormName")}catch(e){isStorageSupport=!1}OpenPopup.addEventListener("click",function(e){e.preventDefault(),Popup.classList.add("popup-show"),storage?(FormName.value=storage,FormEmail.focus()):FormName.focus()}),PopupClose.addEventListener("click",function(e){e.preventDefault(),Popup.classList.remove("popup-show"),Popup.classList.remove("popup-error")}),PopupForm.addEventListener("submit",function(e){FormName.value&&FormEmail.value?isStorageSupport&&localStorage.setItem("FormName",FormName.value):(e.preventDefault(),Popup.classList.remove("popup-error"),Popup.offsetWidth=Popup.offsetWidth,Popup.classList.add("popup-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&Popup.classList.contains("popup-show")&&(e.preventDefault(),Popup.classList.remove("popup-show"),Popup.classList.remove("popup-error"))});
